---
const links = [
  { href: '/', label: 'Home' },
  { href: '/articles', label: 'Articles' },
  { href: '/about', label: 'About' },
  { href: '/contact', label: 'Contact' },
];

const { pathname } = Astro.url;
---

<aside class="site-sidebar" data-component="site-sidebar">

  <!-- Mobile top bar: brand + hamburger -->
  <div class="site-bar">
    <button
      class="site-menu-toggle"
      type="button"
      aria-label="Open menu"
      aria-controls="site-drawer"
      aria-expanded="false"
    >
      <!-- Minimal icons; swapped via [aria-expanded] -->
      <svg class="icon-burger" width="24" height="24" viewBox="0 0 24 24" aria-hidden="true">
        <path d="M3 6h18M3 12h18M3 18h18" stroke="currentColor" stroke-width="2" stroke-linecap="round" />
      </svg>
      <svg class="icon-close" width="24" height="24" viewBox="0 0 24 24" aria-hidden="true">
        <path d="M6 6l12 12M18 6L6 18" stroke="currentColor" stroke-width="2" stroke-linecap="round" />
      </svg>
      <span class="sr-only">Menu</span>
    </button>
  </div>

  <button
    class="site-menu-close"
    type="button"
    aria-label="Close menu"
    aria-controls="site-drawer"
    hidden
  >
    <svg width="24" height="24" viewBox="0 0 24 24" aria-hidden="true">
      <path d="M6 6l12 12M18 6L6 18" stroke="currentColor" stroke-width="2" stroke-linecap="round" />
    </svg>
    <span class="sr-only">Close</span>
  </button>

  <!-- Drawer: static column on desktop; off-canvas on mobile -->
  <div class="site-drawer" id="site-drawer" data-open="false">
    <nav aria-label="Main">
      <ul class="site-nav">
        {links.map((l) => (
          <li>
            <a
              href={l.href}
              aria-current={pathname === l.href ? 'page' : undefined}
            >{l.label}</a>
          </li>
        ))}
      </ul>
    </nav>
  </div>

  <!-- Backdrop for the mobile drawer -->
  <div class="site-backdrop" hidden></div>
</aside>
