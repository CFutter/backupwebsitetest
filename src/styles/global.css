/* ---------- Tokens ---------- */


/* Global Reset */
*{
  box-sizing: border-box;
}

html, body {
  margin: 0;
  padding: 0;
  height: 100%;
}

img, picture, video, canvas, svg {
  display: block;
  max-width: 100%;
}


:root {
  --bg-0: #fffffff1;
  --bg-1: #e6e5e5;
  --fg-0: #110000;
  --fg-1: #000000;
  --fg-3: #ff0000;
  --muted: #020202;
  --accent: #a3a2a2;
  --rule: color-mix(in srgb, var(--fg-1) 10%, transparent);

  --drawer-width: min(225vw, 225px);
  --sub-sidebar-width: 250px; /* NEW: centralize sub-sidebar width */
}

/* ---------- Page Layout ---------- */

.layout-shell {
  min-height: 100dvh;
  display: grid;
  grid-template-columns: 75px minmax(0, 1fr);
  background: var(--bg-0);
}

/* Center the content block, keep text left-aligned */
.layout-content {
  display: grid;
  justify-content: center;        /* center the child block horizontally */
}


/* One unified content width for the whole site */
.content-block {
  width: min(68ch, 100%);
  margin: 0 auto;
  text-align: left;     /* change to center if you prefer centered text */
}


/* ---------- Sidebar base (desktop) ---------- */
.site-sidebar {
  position: sticky;
  height: 100dvh;
  width: 85px;
  display: grid;
  grid-template-rows: auto 1fr; /* brand on top, drawer fills remaining height */
  row-gap: 0.75rem;
  flex-direction: column;
  padding: 2rem 0rem;
  background: var(--bg-1);
  color: var(--fg-1);
  border-right: 1px solid var(--rule);
}

/* Make the drawer a vertical stack container */
.site-drawer {
  display: flex;
  flex-direction: column;
}


.site-nav {
  display: flex;
  flex-direction: column;
  justify-content: center; /* vertical center */
  align-items: stretch;
  gap: .25rem;
  margin: 0;
  padding: 0;
  list-style: none;
}



.site-brand { font-weight: 600; letter-spacing: .3px; text-decoration: none; color: #2b6cb0; }

.site-brand--desktop {
  display: block;
  margin: 0 auto;
  padding: 0;          /* keep it tight */
  line-height: 0;      /* remove extra line height around the image */
}

.site-bar { display: none; }
.site-menu-toggle { display: none; }

/* Nav list */
.site-nav a {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 0.5rem;          
  width: 100%;
  margin-inline: 0rem;
  padding: 0.6rem 1.25rem;
  text-align: center;
  text-decoration: none;
  outline: none;
}


.site-nav a .nav-icon svg {
  display: block;
  width: 28px;
  height: 28px;
}

/* Compact label under icon */
.site-nav a .nav-label {
  font-size: 12px;
  line-height: 1.2;
  white-space: nowrap;
}

.site-nav a:hover,
.site-nav a:focus-visible {
  color: var(--fg-1);
  background: color-mix(in srgb, var(--accent) 16%, transparent);
}

.site-nav a:focus-visible {
  box-shadow: 0 0 0 2px color-mix(in srgb, var(--accent) 50%, transparent) inset;
}

.site-nav a[aria-current="page"] { color: white; background: color-mix(in srgb, var(--accent) 24%, transparent); }

/* Styles for the sub-sidebar list itself */
.sub-sidebar ul {
  list-style: none;
  padding: 0;
  margin: 0;
}

/* Styles for sub-sidebar links  */

/* Sub-links: icon left of text, aligned and same size as the text */
.sub-sidebar .sub-link {
  display: flex;             
  align-items: center;
  gap: 0.5rem;               
  margin-inline: 0rem;   
  padding: 0.5rem 1rem;
  color: var(--muted);
  text-decoration: none;
  transition: background-color 0.2s ease, color 0.2s ease;
}

/* If your navDrawer creates a wrapper <span class="sub-icon"> */
.sub-sidebar .sub-link .sub-icon svg {
  width: 1em;                /* same optical size as text */
  height: 1em;
  display: block;
}

.sub-sidebar .sub-link svg {
  width: 1em;
  height: 1em;
  display: block;
  margin-right: 0.5rem;  /* since you may not have gap without wrappers */
}

.sub-sidebar .sub-link .sub-text {
  line-height: 1.2;
}

.sub-sidebar .sub-link:hover {
  background-color: color-mix(in srgb, var(--accent) 12%, transparent);
  color: var(--fg-1);
}

/* Highlight active sublink */
.sub-sidebar .sub-link[aria-current="page"] {
  color: white; /* Active text color */
  background: color-mix(in srgb, var(--accent) 24%, transparent);
  font-weight: bold;
}

/* Visually hidden utility */
.sr-only {
  position: absolute;
  clip:rect(0,0,0,0);
}
@media (min-width: 901px) {

  .site-nav-primary {
    flex: 1 1 auto;
    display: flex;
    align-items: center;      /* center horizontally */
    justify-content: center;  /* center vertically */
  }
  .site-nav-secondary {
    flex: 0 0 auto;
    margin-top: auto;         /* stays at the bottom */
  }

  .sub-sidebar {
    position: fixed;
    top: 0;
    left: 85px;
    width: var(--sub-sidebar-width);
    height: 100vh;
    background: var(--bg-1);
    display: none; /* hide by default */
    z-index: 1200;
    box-shadow: 2px 0 6px rgba(0,0,0,0.1);
    padding: 3rem 1rem;
    display: none;
  }
  
  .sub-sidebar.open,
  html.sub-open .sub-sidebar {
    display: block;
  }

  .sub-sidebar-trigger {
    background: none;
    border: none;
    cursor: pointer;
    padding: 0.5rem;
    font-size: 1.2rem;
    margin-top: 1rem;
  }

  .sub-sidebar a.active {
    font-weight: bold;
    background: color-mix(in srgb, var(--accent) 20%, transparent);
  }

  .sub-sidebar .sub-pin {
    position: absolute;
    top: 0.5rem;
    right: 0.5rem;
    appearance: none;
    border: 1px solid var(--rule);
    background: transparent;
    color: var(--fg-1);
    padding: 0.25rem;
    border-radius: 6px;
    cursor: pointer;
    line-height: 1;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    transition: background-color .15s ease, border-color .15s ease, color .15s ease;
  }
  .sub-sidebar .sub-pin:hover {
    background: color-mix(in srgb, var(--accent) 10%, transparent);
  }
  .sub-sidebar .sub-pin[aria-pressed="true"] {
    background: color-mix(in srgb, var(--accent) 18%, transparent);
    border-color: color-mix(in srgb, var(--accent) 30%, transparent);
  }

  /* When pinned: keep it visible and shift content so it's not overlapped */
  html.sub-pinned .sub-sidebar {
    display: block; /* always visible on desktop when pinned */
  }

  /* Shift the main content right by the sub-sidebar width */
  html.sub-pinned .layout-content {
    /* add the sub-sidebar width to your existing left padding clamp */
    padding-left: calc(clamp(1rem, 3vw, 3rem) + var(--sub-sidebar-width));
  }

}


/* ---------- Mobile: top bar + drawer ---------- */
@media (max-width: 900px) {
.sub-sidebar {
  display: none;
}

.site-brand--desktop { display: none; }

.site-drawer {
  display: flex;
  flex-direction: column;
}

/* Primary group: occupy remaining space and center its contents vertically */
.site-nav-primary {
  flex: 1 1 auto;
  display: flex;
  justify-content: center;      /* vertical centering of the UL block */
  align-items: stretch;         /* <-- ensure the UL can stretch horizontally */
}


/* Make the UL fill the drawer width and not auto-size to content */
.site-nav-primary .site-nav {
  width: 100%;                  /* <-- key to prevent horizontal centering */
  align-items: stretch;         /* keep items full-width in the UL */
  margin: 0;                    /* avoid any auto-centering margins */
}

/* Make each LI and A consume full width; keep links left-aligned */
.site-nav-primary .site-nav li {
  width: 100%;
}

.site-bar {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 0.5rem;
  position: relative;
}

.site-sidebar {
  background: transparent;
  padding: 0;
  border-right: none;
  height: auto;
  padding: 0;
  gap: 0;
}

.layout-shell { 
  padding-left: 0.5rem; /* compensate for fixed bar height */
  padding-top: 2rem; /* compensate for fixed bar height */
}

.site-nav a {
  flex-direction: row;
  justify-content: flex-start;
  align-items: center;          /* vertical alignment of icon + text */
  text-align: left;             /* ensure text is left aligned */
  width: 100%;                  /* make the clickable area full-width */
  margin-inline: 0;
}

/* Secondary group stays pinned to bottom */
.site-nav-secondary {
  flex: 0 0 auto;
  margin-top: auto;
}

.site-nav a .nav-icon svg {
  width: 22px;
  height: 22px;
}
.site-nav a .nav-label {
  font-size: 14px;
}

/* Your existing hover/focus styles continue to work */
.site-nav a:hover,
.site-nav a:focus-visible {
color: var(--fg-1);
background: color-mix(in srgb, var(--accent) 16%, transparent);
}

.site-nav a:focus-visible {
box-shadow: 0 0 0 2px color-mix(in srgb, var(--accent) 50%, transparent) inset;
}

/* Off-canvas drawer (hidden by default) */
.site-drawer {
  position: fixed;
  top: 0;
  bottom: 0;
  left: 0;
  width: var(--drawer-width);
  background: var(--bg-1);
  padding: 4rem 0rem 2rem;
  border-right: 1px solid var(--rule);
  transform: translateX(-100%);
  transition: transform 220ms ease-out;
  will-change: transform;
  overflow-y: auto;
  z-index: 900;
}

/* Backdrop */
.site-backdrop {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,.18);
  backdrop-filter: blur(0.5px);
  z-index: 800;
}

.site-drawer[data-open="true"] { transform: translateX(0); }

/* Hamburger button */
.site-menu-toggle {
  position: fixed;
  top: .5rem;
  left: .5rem;
  z-index: 1001;
  display: inline-flex;
  background: none;       
  border: none;          
  padding: 0.25rem;
  border-radius: 50%;
  transition: background 0.2s ease;
  cursor: pointer;
}

/* Close button positioned on the right side of the screen */
.site-menu-close {
  position: fixed;
  top: 0.5rem;
  left: 11rem;
  z-index: 1001;
  background: none;
  border: none;
  padding: 0.25rem;
  border-radius: 50%;
  cursor: pointer;
  transition: background 0.2s ease;
}

/* Hover effects for both buttons */
.site-menu-toggle:hover,
.site-menu-close:hover {
  color: var(--fg-1); 
  background: color-mix(in srgb, var(--accent) 10%, transparent); 
  outline: none;
}

.is-hidden {
  display: none;
}

/* Icon sizing */
.site-menu-toggle svg,
.site-menu-close svg {
    display: block;
    width: 24px; 
    height: 24px;
}

.site-bar .site-brand { display: none; }

}