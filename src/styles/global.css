/* ---------- Tokens ---------- */
:root {
    --bg-0: #fffffff1;
    --bg-1: #e6e5e5;
    --fg-0: #110000;
    --fg-1: #000000;
    --muted: #020202;
    --accent: #a3a2a2;
    --rule: color-mix(in srgb, var(--fg-1) 10%, transparent);
  
    /* Drawer width on mobile: use 100vw to cover the whole screen,
       or min(85vw, 320px) for a panel. */
    --drawer-width: min(225vw, 225px);
  }
  
  /* ---------- Page Layout ---------- */
  .layout-shell {
    min-height: 100dvh;
    display: grid;
    grid-template-columns: 75px minmax(0, 1fr);
    background: var(--bg-0);
  }
  .layout-content {
    padding: clamp(1rem, 2vw, 2rem) clamp(1rem, 3vw, 3rem);
    color: var(--fg-0);
  }
  
  /* ---------- Sidebar base (desktop) ---------- */
  .site-sidebar {
    position: sticky;
    top: 0;
    height: 100dvh;
    display: flex;
    flex-direction: column;
    gap: 15rem;
    padding: 2rem 1.25rem;
    background: var(--bg-1);
    color: var(--fg-1);
    border-right: 1px solid var(--rule);
  }
  
  /* Brands */
  .site-brand { font-weight: 600; letter-spacing: .3px; text-decoration: none; color: var(--fg-1); }
  
  /* Desktop defaults: show desktop brand, hide mobile bar + hamburger */
  .site-brand--desktop { display: block; }
  .site-bar { display: none; }
  .site-menu-toggle { display: none; }
  
  /* Nav list */
  .site-nav { display: flex; flex-direction: column; gap: .25rem; list-style: none; margin: 0; padding: 0; }
  .site-nav a { display: block; padding: 1rem .25rem; color: var(--muted); text-decoration: none;}
  .site-nav a:hover, .site-nav a:focus-visible { color: var(--fg-1); background: color-mix(in srgb, var(--accent) 16%, transparent); outline: none; }
  .site-nav a[aria-current="page"] { color: white; background: color-mix(in srgb, var(--accent) 24%, transparent); }
  
  /* Visually hidden utility */
  .sr-only {
    position: absolute;
    clip:rect(0,0,0,0);
  }
  
  /* ---------- Mobile: top bar + drawer ---------- */
  @media (max-width: 900px) {
    .layout-shell { grid-template-columns: 1fr; }
  
    .site-sidebar {
        background: transparent;
        padding: 0;
        border-right: none;
    }
  
    /* Hide desktop brand on mobile; show the mobile bar with brand + hamburger */
    .site-brand--desktop { display: none; }
    .site-bar {
        display: block;
        background: transparent;
        padding: 0;
        height: 0;
        min-height: 0;
        overflow: visible;
    }
        
  .site-bar .site-brand { display: none; }

  
  /* Hamburger pinned top-left */
  .site-menu-toggle {
      position: fixed;
      top: .5rem;
      left: .5rem;
      z-index: 1001;
      display: inline-flex;
      background: none;       
      border: none;          
      padding: 0.25rem;
      border-radius: 50%;
      transition: background 0.2s ease;
         

  }
  
  .site-menu-toggle:hover {
    color: var(--fg-1); 
    background: color-mix(in srgb, var(--accent) 10%, transparent); 
    outline: none;
  }


  /* Base icon normalization */
  .site-menu-toggle svg {
      display: block;
      width: 24px; height: 24px;
  }

  /* Default state: show burger, hide close */
  .site-menu-toggle .icon-burger { 
    display: block; 
  }

  .site-menu-toggle .icon-arrow-close  { 
    display: none;
    position: block;
    top: 0rem;
    left: 15rem;
    width: 24px; height: 24px;
  }
  
  /* When aria-expanded="true": swap to close (X) */
  .site-menu-toggle[aria-expanded="true"] .icon-burger { display: none; }
  .site-menu-toggle[aria-expanded="true"] .icon-arrow-close  { display: block; }    

  /* Off-canvas drawer (hidden by default) */
  .site-drawer {
    position: fixed;
    top: 0;
    bottom: 0;
    left: 0;
    width: var(--drawer-width);
    background: var(--bg-1);
    padding: 10rem 0rem 2rem;
    border-right: 1px solid var(--rule);
    transform: translateX(-100%);
    transition: transform 220ms ease-out;
    will-change: transform;
    overflow-y: auto;
    z-index: 900;
  }
  .site-drawer[data-open="true"] { transform: translateX(0); } /* OPEN */

  /* Backdrop */
  .site-backdrop {
    position: fixed;
    inset: 0;
    background: rgba(0,0,0,.18);
    backdrop-filter: blur(0.5px);
    z-index: 800;
  }
}